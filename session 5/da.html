<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guess the Word</title>
</head>
<body>
    <h1>Guess the Word</h1>
    <p id="word"></p>
    <p id="guesses">Remaining guesses: <span id="remainingGuesses"></span></p>
    <input type="text" id="guessInput">
    <button onclick="guess()">Guess</button>
    <button onclick="playAgain()">Play Again</button>

    <script>
        let arr = ["hoa", "hao", "han", "nam", "anh", "tan", "thu", "tai", "tho"];
        let random = arr[Math.floor(Math.random() * arr.length)];
        let chosenWord;
        let guessedWord = [];
        let remainingGuesses;

        function initializeGame() {
            chosenWord = random;
            guessedWord = Array(chosenWord.length).fill('_');
            remainingGuesses = chosenWord.length + 3;
            updateGameState();
        }

        function updateGameState() {
            document.getElementById("word").textContent = "Current word: " + guessedWord.join(' ');
            document.getElementById("remainingGuesses").textContent = remainingGuesses;
        }

        function checkGameStatus() {
            if (!guessedWord.includes('_') || remainingGuesses === 0) {
                let message = "";
                if (!guessedWord.includes('_')) {
                    message = "Congratulations! You guessed the word: " + chosenWord;
                } else {
                    message = "Sorry! You ran out of guesses. The word was: " + chosenWord;
                }
                alert(message);
            }
        }

        function guess() {
            let input = document.getElementById("guessInput").value.toLowerCase();
            if (!input) {
                alert("Please enter a guess!");
                return;
            }
            let found = false;
            for (let i = 0; i < chosenWord.length; i++) {
                if (chosenWord[i] === input) {
                    guessedWord[i] = input;
                    found = true;
                }
            }
            if (!found) {
                remainingGuesses--;
            }
            updateGameState();
            checkGameStatus();
        }

        function playAgain() {
            random = arr[Math.floor(Math.random() * arr.length)];
            initializeGame();
        }
        initializeGame();
    </script>
</body>
</html>
